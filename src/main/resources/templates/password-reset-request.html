<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>비밀번호 재설정 요청 - 파킹온 아파트너</title>
    <link rel="icon" href="data:,">
    <link rel="stylesheet" th:href="@{/css/app.css}">
    <link rel="stylesheet" th:href="@{/css/login.css}">
    <script th:src="@{/js/common.js}"></script>
</head>
<body class="login-page">
    <div class="login-container">
        <!-- 로고 섹션 -->
        <div class="logo-section">
            <img th:src="@{/images/parkingon-logo.png}" alt="ParkingOn Logo" class="login-logo">
        </div>

        <!-- 비밀번호 재설정 요청 카드 -->
        <div class="login-card">
            <h2 class="login-title">비밀번호 재설정</h2>
            <p style="text-align: center; color: #666; margin-bottom: 24px; font-size: 14px;">
                아이디를 입력하시면 비밀번호 재설정 요청이 관리자에게 전달됩니다.
            </p>

            <!-- 성공 메시지 -->
            <div th:if="${success}" class="success-message" style="background-color: #e8f5e9; color: #2e7d32; padding: 12px; border-radius: 4px; margin-bottom: 16px; text-align: center;">
                <p th:text="${message}">비밀번호 재설정 요청이 접수되었습니다.</p>
                <div th:if="${token}" style="margin-top: 12px; padding: 8px; background-color: #fff; border-radius: 4px; word-break: break-all;">
                    <strong>재설정 링크:</strong><br>
                    <a th:href="@{/password-reset/reset(token=${token})}"
                       style="color: #1976d2; text-decoration: underline;">
                        여기를 클릭하여 비밀번호를 재설정하세요
                    </a>
                </div>
                <p style="margin-top: 12px; font-size: 12px; color: #666;">
                    * 실제 운영 환경에서는 이메일로 링크가 전송됩니다.
                </p>
            </div>

            <!-- 에러 메시지 -->
            <div th:if="${error}" class="error-message" style="background-color: #fee; color: #c33; padding: 12px; border-radius: 4px; margin-bottom: 16px; text-align: center;">
                <span th:text="${message}">오류가 발생했습니다.</span>
            </div>

            <form th:action="@{/password-reset/request}" method="post" class="login-form">
                <!-- 아이디 입력 -->
                <div class="form-group">
                    <label for="username" style="display: block; margin-bottom: 8px; color: #333; font-size: 14px; font-weight: 500;">
                        아이디
                    </label>
                    <input
                        type="text"
                        name="username"
                        id="username"
                        class="form-input"
                        placeholder="아이디를 입력하세요"
                        required
                        autofocus>
                </div>

                <!-- 요청 버튼 -->
                <button type="submit" class="btn-login">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: inline-block; vertical-align: middle; margin-right: 6px;">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                        <polyline points="22,6 12,13 2,6"></polyline>
                    </svg>
                    재설정 요청
                </button>

                <!-- 로그인 페이지로 돌아가기 -->
                <div class="login-footer">
                    <a th:href="@{/login}" class="change-password-link">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: inline-block; vertical-align: middle; margin-right: 4px;">
                            <line x1="19" y1="12" x2="5" y2="12"></line>
                            <polyline points="12 19 5 12 12 5"></polyline>
                        </svg>
                        로그인으로 돌아가기
                    </a>
                </div>
            </form>
        </div>
    </div>
</body>
</html>
